{"changed":true,"filter":false,"title":"dataVisual.js","tooltip":"/scripts/dataVisual.js","value":"/*Get Ready Function*/\n$(function() {\n  // Sidebar toggle behavior\n  $('#sidebarCollapse').on('click', function() {\n    $('#sidebar, #content').toggleClass('active');\n  });\n\n  // Toplist toggle\n  $('#toplistCollapse').on('click', function() {\n    $('#toplist').toggle();\n  });\n  \n  // Hour Prices toggle\n  $('#hrpricesCollapse').on('click', function() {\n    $('#hrprices').toggle();\n  });\n\n  // Social Media Data toggle\n  $('#socialmediaCollapse').on('click', function() {\n    $('#socialmedia').toggle();\n  });\n    \n  // Coin Prices Chart toggle\n  $('#coinpricesCollapse').on('click', function() {\n    $('#coinprices').toggle();\n  });\n  \n  // Currency Selector\n  $('.currency').click(function() {\n    // alert($(this).attr('id'))\n    let tsym = $(this).attr('id');\n    updateCurrency(tsym);\n    $(\".popcoins > tr\").remove();\n  });\n\n  $('select.choosecurrency').change(function() {\n    let tsym = $(this).children(\"option:selected\").val();\n    // alert(\"You have selected the currency - \" + tsym);\n    updateCurrency(tsym);\n    $(\".popcoins > tr\").remove();\n  });\n\n  // Coin selector\n  $('select.choosecoin').change(function() {\n    let fsym = $(this).children(\"option:selected\").val();\n    // alert(\"You have selected the coin - \" + fsym);\n    updateCoin(fsym);\n    $('#coinselected').html(`Hourly Price of ${fsym}`);\n  });\n\n  // IMG selector\n  $(\"tbody\").on(\"click\", \"tr\", function() {\n    let fsym = $(this).attr('value');\n    let coinId = $(this).attr('id');\n    alert(\"You have selected \" + fsym + coinId);\n    updateCoin(fsym);\n    updateId(coinId);\n    $('#coinselected').html(`Hourly Price of ${fsym}`);\n  });\n}); //End of Get Ready Function\n\n\n// Default Settings (Currency and Coin)\nif (\"1\" === \"1\") {\n  let tsym = \"GBP\";\n  let fsym = \"BTC\";\n  updateCurrency(tsym);\n  updateCoin(fsym);\n}\n\n/*TopList*/\nfunction updateCurrency(tsym) {\n  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {\n      params: {\n        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",\n        limit: \"10\",\n        tsym: tsym,\n        page: 0,\n      }\n    })\n    .then(function(response) {\n      console.log(tsym);\n      let readings = response.data.Data;\n      let arrayinfocoin = [];\n      for (x in readings) {\n        console.log(readings[x]);\n        let name = readings[x].CoinInfo.FullName;\n        let abbrv = readings[x].CoinInfo.Name;\n        let image = readings[x].CoinInfo.ImageUrl;\n        let stringprice = readings[x].DISPLAY[tsym].PRICE;\n        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;\n        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;\n        let supply = readings[x].DISPLAY[tsym].SUPPLY;\n        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;\n        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;\n        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;\n        let coinid = readings[x].CoinInfo.Id;\n\n\n        if (stringprice.includes('$')) {\n          price = stringprice.replace('$', '').replace(',', '');\n        }\n        else if (stringprice.includes('£')) {\n          price = stringprice.replace('£', '').replace(',', '');\n        }\n        else {\n          price = stringprice.replace('SGD', '').replace(',', '');\n        }\n\n        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };\n\n        arrayinfocoin.push(infocoin);\n\n      }\n      // console.log(arrayinfocoin);\n      //   console.log(readings);\n      printdata(arrayinfocoin);\n    })\n    .catch(function(error) {\n      console.log(error);\n    })\n    .then(function() {\n      // always executed\n\n    });\n} //End of Function\n\nfunction printdata(arrayinfocoin) {\n  var ndx = crossfilter(arrayinfocoin);\n  var name_dim = ndx.dimension(dc.pluck('name'));\n  var price = name_dim.group().reduceSum(dc.pluck('price'));\n\n  for (let c of arrayinfocoin) {\n\n    if (c.pertchange > 0) {\n      $(\".popcoins\").append(`\n                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">\n                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>\n                                <h5>${c.name}</h5>\n                              </td>\n                              <td><strong>${c.stringprice}</strong></td>\n                              <td><strong>${c.high24}</strong></td>\n                              <td><strong>${c.low24}</strong></td>\n                              <td><strong><span class=\"poschange\">${c.pertchange}</span></strong></td>\n                              <td><strong>${c.marketcap}</strong></td>\n                              <td><strong>${c.marketinfo}</strong></td>\n                            </tr>\n                      `);\n    }\n\n    else if (c.pertchange < 0) {\n      $(\".popcoins\").append(`\n                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">\n                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>\n                                <h5>${c.name}</h5>\n                              </td>\n                              <td><strong>${c.stringprice}</strong></td>\n                              <td><strong>${c.high24}</strong></td>\n                              <td><strong>${c.low24}</strong></td>\n                              <td><strong><span class=\"negchange\">${c.pertchange}</span></strong></td>\n                              <td><strong>${c.marketcap}</strong></td>\n                              <td><strong>${c.marketinfo}</strong></td>\n                            </tr>\n                      `);\n    }\n\n    else {\n      $(\".popcoins\").append(`\n                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">\n                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>\n                                <h5>${c.name}</h5>\n                              </td>\n                              <td><strong>${c.stringprice}</strong></td>\n                              <td><strong>${c.high24}</strong></td>\n                              <td><strong>${c.low24}</strong></td>\n                              <td><strong><span class=\"nochange\">${c.pertchange}</span></strong></td>\n                              <td><strong>${c.marketcap}</strong></td>\n                              <td><strong>${c.marketinfo}</strong></td>\n                            </tr>\n                      `);\n    }\n\n  }\n\n\n  dc.barChart('#dataset')\n    .width(1000)\n    .height(500)\n    .margins({ top: 10, right: 50, bottom: 30, left: 50 })\n    .dimension(name_dim)\n    .group(price)\n    .transitionDuration(500)\n    .x(d3.scale.ordinal())\n    .xUnits(dc.units.ordinal)\n    .xAxisLabel(\"Price of Coins\")\n    .yAxis().ticks(5);\n\n  dc.renderAll();\n\n\n  var name_dim = ndx.dimension(dc.pluck('name'));\n  var price = name_dim.group().reduceSum(dc.pluck('price'));\n\n\n  dc.lineChart(\"#dataset1\")\n    .width(1000)\n    .height(300)\n    .margins({ top: 10, right: 50, bottom: 30, left: 50 })\n    .dimension(name_dim)\n    .group(price)\n    .transitionDuration(500)\n    .x(d3.scale.ordinal())\n    .xUnits(dc.units.ordinal)\n    .xAxisLabel(\"Price of Coins\")\n    .yAxis().ticks(5);\n\n\n  dc.renderAll();\n} //End of Function\n\n// Bitcoin/Ethereum/Litecoin Data  \n/*global axios*/\nfunction updateCoin(fsym) {\n  axios.get('https://min-api.cryptocompare.com/data/histohour', {\n      params: {\n        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",\n        fsym: fsym,\n        tsym: \"SGD\",\n        limit: 20,\n      }\n    })\n    .then(function(response) {\n      let readings1 = response.data.Data;\n      let arrayinfoBitcoin = [];\n\n      for (x in readings1) {\n        //   console.log(readings1[x])\n        let time_raw = readings1[x].time;\n        let time = convertTimestamp(time_raw);\n        let close = readings1[x].close;\n        let high = readings1[x].high;\n        let low = readings1[x].low;\n        let open = readings1[x].open;\n        let volumefrom = readings1[x].volumefrom;\n        let volumeto = readings1[x].volumeto;\n        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };\n        arrayinfoBitcoin.push(infoBitcoin);\n      }\n      // console.log(arrayinfoBitcoin);\n      printdata1(arrayinfoBitcoin);\n    })\n    .catch(function(error) {\n      console.log(error);\n    })\n    .then(function() {\n      // always executed\n    });\n} //End of Function\n\n// Unix Time Converter \nfunction convertTimestamp(timestamp) {\n  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds\n    yyyy = d.getFullYear(),\n    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.\n    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.\n    hh = d.getHours(),\n    h = hh,\n    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.\n    ampm = 'AM',\n\n    // ie: 2013-02-18, 8:35 AM\t\n    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm\n    time = h + ':' + min\n  return time;\n}\n\n\n// Get Ready Function\n$(function() {\n\n\n\n  // Pagination\n\n  //   $('.pagination').pagination({\n  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',\n  //     locator: 'items',\n  //     totalNumberLocator: function(response) {\n  //         // you can return totalNumber by analyzing response content\n  //         return Math.floor(Math.random() * (1000 - 100)) + 100;\n  //     },\n  //     pageSize: 20,\n  //     ajax: {\n  //         beforeSend: function() {\n  //             dataContainer.html('Loading data from flickr.com ...');\n  //         }\n  //     },\n  //     callback: function(data, pagination) {\n  //         // template method of yourself\n  //         var html = template(data);\n  //         dataContainer.html(html);\n  //     }\n  // })\n\n\n})\n\n// second api\nfunction printdata1(arrayinfoBitcoin) {\n  var ndx = crossfilter(arrayinfoBitcoin);\n  var time_dim = ndx.dimension(dc.pluck('time'));\n  var open = time_dim.group().reduceSum(dc.pluck('open'));\n\n      \n  //single graph\n  dc.lineChart(\"#hourlyprice\")\n    .width(1000)\n    .height(300)\n    .margins({ top: 10, right: 50, bottom: 30, left: 50 })\n    .dimension(time_dim)\n    .group(open)\n    .transitionDuration(500)\n    .x(d3.scale.ordinal())\n    .xUnits(dc.units.ordinal)\n    .xAxisLabel(\"Hourly Prices\")\n    .yAxis().ticks(5);\n\n  dc.renderAll();\n}\n//End of Function\n\n//Social Media Data\n\nfunction updateId(coinId) {\n  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {\n      params: {\n        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",\n        coinId: coinId,\n      }\n    })\n    .then(function(response) {\n      let arraysocialData = [];\n      let socialData = response.data.Data;\n      let redditstats = socialData.Reddit;\n      let twitterstats = socialData.Twitter;\n      let codeRepositorystats = socialData.CodeRepository.List;\n      let facebookstats = socialData.Facebook;\n      \n      console.log(socialData)\n      \n      let reddit_active_users = redditstats.active_users\n      let reddit_coin_name = redditstats.name;\n      let reddit_subscribers = redditstats.subscribers;\n      let reddit_link = redditstats.link;\n      let reddit_comments_day = redditstats.comments_per_day;\n      let reddit_comments_hour = redditstats.comments_per_hour;\n      \n      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];\n      \n      \n      let facebook_likes = facebookstats.likes; \n      let facebook_link = facebookstats.link;\n      \n      let facebook = [{facebook_link, facebook_likes}]\n      \n      let twitter_follwers = twitterstats.followers;\n      let twitter_link = twitterstats.link;\n      \n      let twitter = [{twitter_follwers, twitter_link}]\n      \n      let projectinfo = []\n      for (x in codeRepositorystats) {\n        let project_forks = codeRepositorystats[x].forks;\n        let project_last_update = codeRepositorystats[x].last_update;\n        let project_last_push = codeRepositorystats[x].last_push;\n        let project_subscribers = codeRepositorystats[x].subscribers;\n        let project_link = codeRepositorystats[x].url;\n        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}\n        projectinfo.push(project_stats)\n      }\n      \n      let mediainfo = []\n      media_stats = {reddit_subscribers, reddit_link,  facebook_likes, facebook_link, twitter_follwers, twitter_link}\n      mediainfo.push(media_stats);\n      console.log(reddit, facebook, twitter, projectinfo)\n      console.log(media_stats)\n      socialgraph(media_stats)\n      \n      \n        function socialgraph(media_stats) {\n\n            \n            dc.renderAll();\n        }\n    \n    })\n    .catch(function(error) {\n      console.log(error);\n    })\n    .then(function() {\n      // always executed\n    });\n\n}\n\n// var dataset = {\n//   medima_fields: [\n//       {key: 'dxid', value: 6}, \n//       {key: 'hic', value: 2}, \n//       {key: 'etc', value: 4},\n//       ],\n// };\n    \n// var width = 460,\n//     height = 300,\n//     radius = Math.min(width, height) / 2;\n\n// var donut = d3.select(\"#donutgraph\")\n//     .attr(\"class\", \"medima-donut-chart\")\n//     .attr(\"style\", \"width:\" + width + \"px;\");\n    \n// var pie = d3.layout.pie()\n//     .value(function (d) {return d.value;})\n//     .sort(null);\n\n// var arc = d3.svg.arc()\n//     .innerRadius(radius - 75)\n//     .outerRadius(radius - 50);\n\n// var svg = donut.append(\"svg\")\n//     .attr(\"width\", width)\n//     .attr(\"height\", height)\n//     .append(\"g\")\n//     .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n// var path = svg.selectAll(\"path\")\n//     .data(pie(dataset.medima_fields))\n//     .enter().append(\"path\")\n//     .attr(\"d\", arc)\n//     .data(dataset.medima_fields)\n//     .attr(\"class\", function(d) { return d.key; });\n    \n// var total = 0\n//     for (var i = 0; i < dataset.medima_fields.length; i++ ){\n//     total+=dataset.medima_fields[i].value\n// }\n   \n// var donutTotal = donut.append(\"div\")    \n//     .attr(\"class\", \"medima-donut-total\")\n//     .html(total + \"<div class='medima-donut-total-subtext'>OVERLAPS</div>\");","undoManager":{"mark":37,"position":37,"stack":[[{"start":{"row":0,"column":0},"end":{"row":407,"column":1},"action":"remove","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#toplistCollapse').on('click', function() {","    $('#toplist').toggle();","","  })","  ","  // Hour Prices toggle","  $('#hrpricesCollapse').on('click', function() {","    $('#hrprices').toggle();","","  })","","  // Social Media Data toggle","  $('#socialmediaCollapse').on('click', function() {","    $('#socialmedia').toggle();","","  })","    ","  // Coin Prices Chart toggle","  $('#coinpricesCollapse').on('click', function() {","    $('#coinprices').toggle();","","  })","  ","  // Currency Conversion","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId)","    updateCoin(fsym)","    updateId(coinId)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","}); //End of Get Ready Function","","if (\"1\" === \"1\") {","  let tsym = \"GBP\";","  let fsym = \"BTC\";","  updateCurrency(tsym);","  updateCoin(fsym);","}","","// Data Gathering from CryptoCompare","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x])","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '')","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '')","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '')","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","  };","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw)","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","","      ","  //single graph","  dc.lineChart(\"#hourlyprice\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      let mediainfo = []","      media_stats = {reddit_subscribers, reddit_link,  facebook_likes, facebook_link, twitter_follwers, twitter_link}","      mediainfo.push(media_stats);","      console.log(reddit, facebook, twitter, projectinfo)","      console.log(media_stats)","      socialgraph(media_stats)","      ","      ","        function socialgraph(media_stats) {","","            ","            dc.renderAll();","        }","    ","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}"],"id":1},{"start":{"row":0,"column":0},"end":{"row":402,"column":1},"action":"insert","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#toplistCollapse').on('click', function() {","    $('#toplist').toggle();","  });","  ","  // Hour Prices toggle","  $('#hrpricesCollapse').on('click', function() {","    $('#hrprices').toggle();","  });","","  // Social Media Data toggle","  $('#socialmediaCollapse').on('click', function() {","    $('#socialmedia').toggle();","  });","    ","  // Coin Prices Chart toggle","  $('#coinpricesCollapse').on('click', function() {","    $('#coinprices').toggle();","  });","  ","  // Currency Conversion","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym);","    $(\".popcoins > tr\").remove();","  });","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym);","    $(\".popcoins > tr\").remove();","  });","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym);","    $('#coinselected').html(`Hourly Price of ${fsym}`);","  });","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId);","    updateCoin(fsym);","    updateId(coinId);","    $('#coinselected').html(`Hourly Price of ${fsym}`);","  });","}); //End of Get Ready Function","","if (\"1\" === \"1\") {","  let tsym = \"GBP\";","  let fsym = \"BTC\";","  updateCurrency(tsym);","  updateCoin(fsym);","}","","// Data Gathering from CryptoCompare","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data;","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x]);","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '');","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '');","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '');","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `);","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `);","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `);","    }","","  }","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data;","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw);","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","","      ","  //single graph","  dc.lineChart(\"#hourlyprice\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      let mediainfo = []","      media_stats = {reddit_subscribers, reddit_link,  facebook_likes, facebook_link, twitter_follwers, twitter_link}","      mediainfo.push(media_stats);","      console.log(reddit, facebook, twitter, projectinfo)","      console.log(media_stats)","      socialgraph(media_stats)","      ","      ","        function socialgraph(media_stats) {","","            ","            dc.renderAll();","        }","    ","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}"]}],[{"start":{"row":402,"column":1},"end":{"row":402,"column":2},"action":"insert","lines":["d"],"id":2},{"start":{"row":402,"column":2},"end":{"row":402,"column":3},"action":"insert","lines":["a"]}],[{"start":{"row":402,"column":2},"end":{"row":402,"column":3},"action":"remove","lines":["a"],"id":3},{"start":{"row":402,"column":1},"end":{"row":402,"column":2},"action":"remove","lines":["d"]}],[{"start":{"row":304,"column":2},"end":{"row":304,"column":3},"action":"insert","lines":["?"],"id":4}],[{"start":{"row":304,"column":2},"end":{"row":304,"column":3},"action":"remove","lines":["?"],"id":5}],[{"start":{"row":68,"column":0},"end":{"row":68,"column":36},"action":"remove","lines":["// Data Gathering from CryptoCompare"],"id":7},{"start":{"row":67,"column":0},"end":{"row":68,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":27,"column":14},"end":{"row":27,"column":24},"action":"remove","lines":["Conversion"],"id":8},{"start":{"row":27,"column":14},"end":{"row":27,"column":15},"action":"insert","lines":["S"]},{"start":{"row":27,"column":15},"end":{"row":27,"column":16},"action":"insert","lines":["e"]},{"start":{"row":27,"column":16},"end":{"row":27,"column":17},"action":"insert","lines":["l"]},{"start":{"row":27,"column":17},"end":{"row":27,"column":18},"action":"insert","lines":["e"]},{"start":{"row":27,"column":18},"end":{"row":27,"column":19},"action":"insert","lines":["c"]},{"start":{"row":27,"column":19},"end":{"row":27,"column":20},"action":"insert","lines":["t"]},{"start":{"row":27,"column":20},"end":{"row":27,"column":21},"action":"insert","lines":["o"]},{"start":{"row":27,"column":21},"end":{"row":27,"column":22},"action":"insert","lines":["r"]}],[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":61,"column":0},"end":{"row":62,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":62,"column":0},"end":{"row":62,"column":3},"action":"insert","lines":["// "],"id":10}],[{"start":{"row":62,"column":3},"end":{"row":62,"column":4},"action":"insert","lines":["A"],"id":11},{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"insert","lines":["l"]},{"start":{"row":62,"column":5},"end":{"row":62,"column":6},"action":"insert","lines":["l"]},{"start":{"row":62,"column":6},"end":{"row":62,"column":7},"action":"insert","lines":["w"]},{"start":{"row":62,"column":7},"end":{"row":62,"column":8},"action":"insert","lines":["a"]},{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"insert","lines":["y"]},{"start":{"row":62,"column":9},"end":{"row":62,"column":10},"action":"insert","lines":["s"]}],[{"start":{"row":62,"column":9},"end":{"row":62,"column":10},"action":"remove","lines":["s"],"id":12},{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"remove","lines":["y"]},{"start":{"row":62,"column":7},"end":{"row":62,"column":8},"action":"remove","lines":["a"]},{"start":{"row":62,"column":6},"end":{"row":62,"column":7},"action":"remove","lines":["w"]},{"start":{"row":62,"column":5},"end":{"row":62,"column":6},"action":"remove","lines":["l"]}],[{"start":{"row":62,"column":5},"end":{"row":62,"column":6},"action":"insert","lines":["w"],"id":13},{"start":{"row":62,"column":6},"end":{"row":62,"column":7},"action":"insert","lines":["a"]},{"start":{"row":62,"column":7},"end":{"row":62,"column":8},"action":"insert","lines":["y"]},{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"insert","lines":["s"]}],[{"start":{"row":62,"column":9},"end":{"row":62,"column":10},"action":"insert","lines":[" "],"id":14},{"start":{"row":62,"column":10},"end":{"row":62,"column":11},"action":"insert","lines":["o"]},{"start":{"row":62,"column":11},"end":{"row":62,"column":12},"action":"insert","lines":["n"]}],[{"start":{"row":62,"column":12},"end":{"row":62,"column":13},"action":"insert","lines":[" "],"id":15},{"start":{"row":62,"column":13},"end":{"row":62,"column":14},"action":"insert","lines":["f"]},{"start":{"row":62,"column":14},"end":{"row":62,"column":15},"action":"insert","lines":["u"]},{"start":{"row":62,"column":15},"end":{"row":62,"column":16},"action":"insert","lines":["n"]},{"start":{"row":62,"column":16},"end":{"row":62,"column":17},"action":"insert","lines":["c"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"insert","lines":["t"]},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"insert","lines":["i"]},{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["n"]}],[{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"remove","lines":["n"],"id":16},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"remove","lines":["i"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"remove","lines":["t"]},{"start":{"row":62,"column":16},"end":{"row":62,"column":17},"action":"remove","lines":["c"]},{"start":{"row":62,"column":15},"end":{"row":62,"column":16},"action":"remove","lines":["n"]},{"start":{"row":62,"column":14},"end":{"row":62,"column":15},"action":"remove","lines":["u"]},{"start":{"row":62,"column":13},"end":{"row":62,"column":14},"action":"remove","lines":["f"]}],[{"start":{"row":62,"column":12},"end":{"row":62,"column":13},"action":"remove","lines":[" "],"id":17},{"start":{"row":62,"column":11},"end":{"row":62,"column":12},"action":"remove","lines":["n"]},{"start":{"row":62,"column":10},"end":{"row":62,"column":11},"action":"remove","lines":["o"]}],[{"start":{"row":62,"column":10},"end":{"row":62,"column":11},"action":"insert","lines":["t"],"id":18},{"start":{"row":62,"column":11},"end":{"row":62,"column":12},"action":"insert","lines":["r"]},{"start":{"row":62,"column":12},"end":{"row":62,"column":13},"action":"insert","lines":["u"]},{"start":{"row":62,"column":13},"end":{"row":62,"column":14},"action":"insert","lines":["e"]}],[{"start":{"row":62,"column":14},"end":{"row":62,"column":15},"action":"insert","lines":[" "],"id":19},{"start":{"row":62,"column":15},"end":{"row":62,"column":16},"action":"insert","lines":["c"]},{"start":{"row":62,"column":16},"end":{"row":62,"column":17},"action":"insert","lines":["o"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"insert","lines":["n"]},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"insert","lines":["d"]},{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["i"]},{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"insert","lines":["t"]},{"start":{"row":62,"column":21},"end":{"row":62,"column":22},"action":"insert","lines":["i"]},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["o"]},{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"insert","lines":["n"]}],[{"start":{"row":62,"column":24},"end":{"row":62,"column":25},"action":"insert","lines":[" "],"id":20}],[{"start":{"row":62,"column":25},"end":{"row":62,"column":27},"action":"insert","lines":["()"],"id":21}],[{"start":{"row":62,"column":26},"end":{"row":62,"column":27},"action":"insert","lines":["P"],"id":22},{"start":{"row":62,"column":27},"end":{"row":62,"column":28},"action":"insert","lines":["r"]},{"start":{"row":62,"column":28},"end":{"row":62,"column":29},"action":"insert","lines":["e"]}],[{"start":{"row":62,"column":29},"end":{"row":62,"column":30},"action":"insert","lines":["s"],"id":23},{"start":{"row":62,"column":30},"end":{"row":62,"column":31},"action":"insert","lines":["e"]},{"start":{"row":62,"column":31},"end":{"row":62,"column":32},"action":"insert","lines":["t"]}],[{"start":{"row":62,"column":32},"end":{"row":62,"column":33},"action":"insert","lines":[" "],"id":24},{"start":{"row":62,"column":33},"end":{"row":62,"column":34},"action":"insert","lines":["D"]},{"start":{"row":62,"column":34},"end":{"row":62,"column":35},"action":"insert","lines":["a"]},{"start":{"row":62,"column":35},"end":{"row":62,"column":36},"action":"insert","lines":["t"]},{"start":{"row":62,"column":36},"end":{"row":62,"column":37},"action":"insert","lines":["a"]}],[{"start":{"row":62,"column":3},"end":{"row":62,"column":24},"action":"remove","lines":["Always true condition"],"id":25},{"start":{"row":62,"column":3},"end":{"row":62,"column":4},"action":"insert","lines":["S"]},{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"insert","lines":["e"]},{"start":{"row":62,"column":5},"end":{"row":62,"column":6},"action":"insert","lines":["t"]},{"start":{"row":62,"column":6},"end":{"row":62,"column":7},"action":"insert","lines":["t"]},{"start":{"row":62,"column":7},"end":{"row":62,"column":8},"action":"insert","lines":["i"]},{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"insert","lines":["n"]},{"start":{"row":62,"column":9},"end":{"row":62,"column":10},"action":"insert","lines":["g"]},{"start":{"row":62,"column":10},"end":{"row":62,"column":11},"action":"insert","lines":["s"]}],[{"start":{"row":62,"column":3},"end":{"row":62,"column":4},"action":"insert","lines":["P"],"id":26},{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"insert","lines":["r"]},{"start":{"row":62,"column":5},"end":{"row":62,"column":6},"action":"insert","lines":["e"]}],[{"start":{"row":62,"column":5},"end":{"row":62,"column":6},"action":"remove","lines":["e"],"id":27},{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"remove","lines":["r"]},{"start":{"row":62,"column":3},"end":{"row":62,"column":4},"action":"remove","lines":["P"]}],[{"start":{"row":62,"column":3},"end":{"row":62,"column":4},"action":"insert","lines":["D"],"id":28},{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"insert","lines":["e"]},{"start":{"row":62,"column":5},"end":{"row":62,"column":6},"action":"insert","lines":["f"]},{"start":{"row":62,"column":6},"end":{"row":62,"column":7},"action":"insert","lines":["a"]},{"start":{"row":62,"column":7},"end":{"row":62,"column":8},"action":"insert","lines":["u"]},{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"insert","lines":["l"]},{"start":{"row":62,"column":9},"end":{"row":62,"column":10},"action":"insert","lines":["t"]}],[{"start":{"row":62,"column":10},"end":{"row":62,"column":11},"action":"insert","lines":[" "],"id":29}],[{"start":{"row":62,"column":21},"end":{"row":62,"column":32},"action":"remove","lines":["Preset Data"],"id":30},{"start":{"row":62,"column":21},"end":{"row":62,"column":22},"action":"insert","lines":["C"]},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["r"]},{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"insert","lines":["u"]}],[{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"remove","lines":["u"],"id":31},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"remove","lines":["r"]}],[{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["u"],"id":32},{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"insert","lines":["r"]},{"start":{"row":62,"column":24},"end":{"row":62,"column":25},"action":"insert","lines":["r"]},{"start":{"row":62,"column":25},"end":{"row":62,"column":26},"action":"insert","lines":["e"]},{"start":{"row":62,"column":26},"end":{"row":62,"column":27},"action":"insert","lines":["n"]},{"start":{"row":62,"column":27},"end":{"row":62,"column":28},"action":"insert","lines":["c"]},{"start":{"row":62,"column":28},"end":{"row":62,"column":29},"action":"insert","lines":["y"]}],[{"start":{"row":62,"column":29},"end":{"row":62,"column":30},"action":"insert","lines":[" "],"id":33},{"start":{"row":62,"column":30},"end":{"row":62,"column":31},"action":"insert","lines":["a"]},{"start":{"row":62,"column":31},"end":{"row":62,"column":32},"action":"insert","lines":["d"]}],[{"start":{"row":62,"column":31},"end":{"row":62,"column":32},"action":"remove","lines":["d"],"id":34}],[{"start":{"row":62,"column":31},"end":{"row":62,"column":32},"action":"insert","lines":["n"],"id":35},{"start":{"row":62,"column":32},"end":{"row":62,"column":33},"action":"insert","lines":["d"]}],[{"start":{"row":62,"column":33},"end":{"row":62,"column":34},"action":"insert","lines":[" "],"id":36},{"start":{"row":62,"column":34},"end":{"row":62,"column":35},"action":"insert","lines":["T"]},{"start":{"row":62,"column":35},"end":{"row":62,"column":36},"action":"insert","lines":["o"]}],[{"start":{"row":62,"column":35},"end":{"row":62,"column":36},"action":"remove","lines":["o"],"id":37},{"start":{"row":62,"column":34},"end":{"row":62,"column":35},"action":"remove","lines":["T"]}],[{"start":{"row":62,"column":34},"end":{"row":62,"column":35},"action":"insert","lines":["C"],"id":38},{"start":{"row":62,"column":35},"end":{"row":62,"column":36},"action":"insert","lines":["o"]},{"start":{"row":62,"column":36},"end":{"row":62,"column":37},"action":"insert","lines":["i"]},{"start":{"row":62,"column":37},"end":{"row":62,"column":38},"action":"insert","lines":["n"]}],[{"start":{"row":114,"column":6},"end":{"row":114,"column":9},"action":"insert","lines":["// "],"id":39}],[{"start":{"row":0,"column":0},"end":{"row":417,"column":1},"action":"insert","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#btn1').on('click', function() {","    $('#toplist').toggle();","","  })","","  // Currency Conversion","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId)","    updateCoin(fsym)","    updateId(coinId)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","}); //End of Get Ready Function","","","","// Data Gathering from CryptoCompare","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x])","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '')","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '')","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '')","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","  };","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw)","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","","  //single graph","  dc.lineChart(\"#dataset2\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  // //composite graph","  // var ndx = crossfilter(arrayinfoBitcoin);","  // var time_dim = ndx.dimension(dc.pluck('time'));","  // var open = time_dim.group().reduceSum(dc.pluck('open'));","","  // function spend_by_name(name) {","  //   return function(d) {","  //     if (d.name === name) {","  //       return +d.spend;","  //     }","  //     else {","  //       return 0;","  //     }","  //   }","  // }","","  // var coin1 = time_dim.group().reduceSum(spend_by_name('Tom'));","","  // var coin2 = time_dim.group().reduceSum(spend_by_name('Bob'));","","  // var coin3 = time_dim.group().reduceSum(spend_by_name('Alice'));","","  // var compositeChart = dc.compositeChart('#composite-chart');","","  // compositeChart","  //   .width(990)","  //   .height(200)","  //   .dimension(date_dim)","  //   .x(d3.time.scale().domain([minDate, maxDate]))","  //   .yAxisLabel(\"Spend\")","  //   .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","  //   .renderHorizontalGridLines(true)","  //   .compose([","  //     dc.lineChart(compositeChart)","  //     .colors('green')","  //     .group(tomSpendByMonth, 'Tom'),","  //     dc.lineChart(compositeChart)","  //     .colors('red')","  //     .group(bobSpendByMonth, 'Bob'),","  //     dc.lineChart(compositeChart)","  //     .colors('blue')","  //     .group(aliceSpendByMonth, 'Alice')","  //   ])","  //   .brushOn(false)","  //   .render();","","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      console.log(reddit, facebook, twitter, projectinfo)","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}"],"id":44}],[{"start":{"row":0,"column":0},"end":{"row":417,"column":1},"action":"remove","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#btn1').on('click', function() {","    $('#toplist').toggle();","","  })","","  // Currency Conversion","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId)","    updateCoin(fsym)","    updateId(coinId)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","}); //End of Get Ready Function","","","","// Data Gathering from CryptoCompare","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x])","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '')","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '')","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '')","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","  };","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw)","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","","  //single graph","  dc.lineChart(\"#dataset2\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  // //composite graph","  // var ndx = crossfilter(arrayinfoBitcoin);","  // var time_dim = ndx.dimension(dc.pluck('time'));","  // var open = time_dim.group().reduceSum(dc.pluck('open'));","","  // function spend_by_name(name) {","  //   return function(d) {","  //     if (d.name === name) {","  //       return +d.spend;","  //     }","  //     else {","  //       return 0;","  //     }","  //   }","  // }","","  // var coin1 = time_dim.group().reduceSum(spend_by_name('Tom'));","","  // var coin2 = time_dim.group().reduceSum(spend_by_name('Bob'));","","  // var coin3 = time_dim.group().reduceSum(spend_by_name('Alice'));","","  // var compositeChart = dc.compositeChart('#composite-chart');","","  // compositeChart","  //   .width(990)","  //   .height(200)","  //   .dimension(date_dim)","  //   .x(d3.time.scale().domain([minDate, maxDate]))","  //   .yAxisLabel(\"Spend\")","  //   .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","  //   .renderHorizontalGridLines(true)","  //   .compose([","  //     dc.lineChart(compositeChart)","  //     .colors('green')","  //     .group(tomSpendByMonth, 'Tom'),","  //     dc.lineChart(compositeChart)","  //     .colors('red')","  //     .group(bobSpendByMonth, 'Bob'),","  //     dc.lineChart(compositeChart)","  //     .colors('blue')","  //     .group(aliceSpendByMonth, 'Alice')","  //   ])","  //   .brushOn(false)","  //   .render();","","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      console.log(reddit, facebook, twitter, projectinfo)","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}"],"id":44}],[{"start":{"row":0,"column":0},"end":{"row":504,"column":76},"action":"remove","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#btn1').on('click', function() {","    $('#toplist').toggle();","","  })","","  // Currency Conversion","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId)","    updateCoin(fsym)","    updateId(coinId)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","}); //End of Get Ready Function","","if (\"1\" === \"1\") {","  let tsym = \"GBP\";","  let fsym = \"BTC\";","  updateCurrency(tsym);","  updateCoin(fsym);","}","","// Data Gathering from CryptoCompare","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x])","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '')","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '')","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '')","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","  };","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw)","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","  ","  // var zoom = d3.zoom()","  //     .scaleExtent([0.5, 20])  // This control how much you can unzoom (x0.5) and zoom (x20)","  //     .extent([[0, 0], [width, height]])","  //     .on(\"zoom\", updateChart);","      ","  //   // A function that updates the chart when the user zoom and thus new boundaries are available","  // function updateChart() {","","  //   // recover the new scale","  //   var newX = d3.event.transform.rescaleX(x);","  //   var newY = d3.event.transform.rescaleY(y);","","  //   // update axes with these new boundaries","  //   xAxis.call(d3.axisBottom(newX))","  //   yAxis.call(d3.axisLeft(newY))","","  //   // update circle position","  //   scatter","  //     .selectAll(\"circle\")","  //     .attr('cx', function(d) {return newX(d.Sepal_Length)})","  //     .attr('cy', function(d) {return newY(d.Petal_Length)});","  // }    ","      ","  //single graph","  dc.lineChart(\"#dataset2\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  // //composite graph","  // var ndx = crossfilter(arrayinfoBitcoin);","  // var time_dim = ndx.dimension(dc.pluck('time'));","  // var open = time_dim.group().reduceSum(dc.pluck('open'));","","  // function spend_by_name(name) {","  //   return function(d) {","  //     if (d.name === name) {","  //       return +d.spend;","  //     }","  //     else {","  //       return 0;","  //     }","  //   }","  // }","","  // var coin1 = time_dim.group().reduceSum(spend_by_name('Tom'));","","  // var coin2 = time_dim.group().reduceSum(spend_by_name('Bob'));","","  // var coin3 = time_dim.group().reduceSum(spend_by_name('Alice'));","","  // var compositeChart = dc.compositeChart('#composite-chart');","","  // compositeChart","  //   .width(990)","  //   .height(200)","  //   .dimension(date_dim)","  //   .x(d3.time.scale().domain([minDate, maxDate]))","  //   .yAxisLabel(\"Spend\")","  //   .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","  //   .renderHorizontalGridLines(true)","  //   .compose([","  //     dc.lineChart(compositeChart)","  //     .colors('green')","  //     .group(tomSpendByMonth, 'Tom'),","  //     dc.lineChart(compositeChart)","  //     .colors('red')","  //     .group(bobSpendByMonth, 'Bob'),","  //     dc.lineChart(compositeChart)","  //     .colors('blue')","  //     .group(aliceSpendByMonth, 'Alice')","  //   ])","  //   .brushOn(false)","  //   .render();","","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      let mediainfo = []","      media_stats = {reddit_subscribers, reddit_link,  facebook_likes, facebook_link, twitter_follwers, twitter_link}","      mediainfo.push(media_stats);","      console.log(reddit, facebook, twitter, projectinfo)","      console.log(media_stats)","      socialgraph(media_stats)","      ","      ","        function socialgraph(media_stats) {","","            ","            dc.renderAll();","        }","    ","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}","","var dataset = {","  medima_fields: [","      {key: 'dxid', value: 6}, ","      {key: 'hic', value: 2}, ","      {key: 'etc', value: 4},","      ],","};","    ","var width = 460,","    height = 300,","    radius = Math.min(width, height) / 2;","","var donut = d3.select(\"#donutgraph\")","    .attr(\"class\", \"medima-donut-chart\")","    .attr(\"style\", \"width:\" + width + \"px;\");","    ","var pie = d3.layout.pie()","    .value(function (d) {return d.value;})","    .sort(null);","","var arc = d3.svg.arc()","    .innerRadius(radius - 75)","    .outerRadius(radius - 50);","","var svg = donut.append(\"svg\")","    .attr(\"width\", width)","    .attr(\"height\", height)","    .append(\"g\")","    .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");","","var path = svg.selectAll(\"path\")","    .data(pie(dataset.medima_fields))","    .enter().append(\"path\")","    .attr(\"d\", arc)","    .data(dataset.medima_fields)","    .attr(\"class\", function(d) { return d.key; });","    ","var total = 0","    for (var i = 0; i < dataset.medima_fields.length; i++ ){","    total+=dataset.medima_fields[i].value","}","   ","var donutTotal = donut.append(\"div\")    ","    .attr(\"class\", \"medima-donut-total\")","    .html(total + \"<div class='medima-donut-total-subtext'>OVERLAPS</div>\");"],"id":45},{"start":{"row":0,"column":0},"end":{"row":417,"column":1},"action":"insert","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#btn1').on('click', function() {","    $('#toplist').toggle();","","  })","","  // Currency Conversion","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId)","    updateCoin(fsym)","    updateId(coinId)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","}); //End of Get Ready Function","","","","// Data Gathering from CryptoCompare","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x])","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '')","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '')","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '')","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","  };","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw)","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","","  //single graph","  dc.lineChart(\"#dataset2\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  // //composite graph","  // var ndx = crossfilter(arrayinfoBitcoin);","  // var time_dim = ndx.dimension(dc.pluck('time'));","  // var open = time_dim.group().reduceSum(dc.pluck('open'));","","  // function spend_by_name(name) {","  //   return function(d) {","  //     if (d.name === name) {","  //       return +d.spend;","  //     }","  //     else {","  //       return 0;","  //     }","  //   }","  // }","","  // var coin1 = time_dim.group().reduceSum(spend_by_name('Tom'));","","  // var coin2 = time_dim.group().reduceSum(spend_by_name('Bob'));","","  // var coin3 = time_dim.group().reduceSum(spend_by_name('Alice'));","","  // var compositeChart = dc.compositeChart('#composite-chart');","","  // compositeChart","  //   .width(990)","  //   .height(200)","  //   .dimension(date_dim)","  //   .x(d3.time.scale().domain([minDate, maxDate]))","  //   .yAxisLabel(\"Spend\")","  //   .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","  //   .renderHorizontalGridLines(true)","  //   .compose([","  //     dc.lineChart(compositeChart)","  //     .colors('green')","  //     .group(tomSpendByMonth, 'Tom'),","  //     dc.lineChart(compositeChart)","  //     .colors('red')","  //     .group(bobSpendByMonth, 'Bob'),","  //     dc.lineChart(compositeChart)","  //     .colors('blue')","  //     .group(aliceSpendByMonth, 'Alice')","  //   ])","  //   .brushOn(false)","  //   .render();","","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      console.log(reddit, facebook, twitter, projectinfo)","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}"]}],[{"start":{"row":0,"column":0},"end":{"row":504,"column":76},"action":"insert","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#btn1').on('click', function() {","    $('#toplist').toggle();","","  })","","  // Currency Conversion","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym)","    $(\".popcoins > tr\").remove()","  })","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId)","    updateCoin(fsym)","    updateId(coinId)","    $('#coinselected').html(`Hourly Price of ${fsym}`)","  })","","}); //End of Get Ready Function","","if (\"1\" === \"1\") {","  let tsym = \"GBP\";","  let fsym = \"BTC\";","  updateCurrency(tsym);","  updateCoin(fsym);","}","","// Data Gathering from CryptoCompare","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x])","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '')","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '')","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '')","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>Price: <br/>${c.stringprice}</strong></td>","                              <td><strong>24H High: <br/>${c.high24}</strong></td>","                              <td><strong>24H Low: <br/>${c.low24}</strong></td>","                              <td><strong>24H Chg%: <br/><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>Market Cap: <br/>${c.marketcap}</strong></td>","                              <td><strong>Info from: <br/>${c.marketinfo}</strong></td>","                            </tr>","                      `)","    }","","  };","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw)","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","  ","  // var zoom = d3.zoom()","  //     .scaleExtent([0.5, 20])  // This control how much you can unzoom (x0.5) and zoom (x20)","  //     .extent([[0, 0], [width, height]])","  //     .on(\"zoom\", updateChart);","      ","  //   // A function that updates the chart when the user zoom and thus new boundaries are available","  // function updateChart() {","","  //   // recover the new scale","  //   var newX = d3.event.transform.rescaleX(x);","  //   var newY = d3.event.transform.rescaleY(y);","","  //   // update axes with these new boundaries","  //   xAxis.call(d3.axisBottom(newX))","  //   yAxis.call(d3.axisLeft(newY))","","  //   // update circle position","  //   scatter","  //     .selectAll(\"circle\")","  //     .attr('cx', function(d) {return newX(d.Sepal_Length)})","  //     .attr('cy', function(d) {return newY(d.Petal_Length)});","  // }    ","      ","  //single graph","  dc.lineChart(\"#dataset2\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  // //composite graph","  // var ndx = crossfilter(arrayinfoBitcoin);","  // var time_dim = ndx.dimension(dc.pluck('time'));","  // var open = time_dim.group().reduceSum(dc.pluck('open'));","","  // function spend_by_name(name) {","  //   return function(d) {","  //     if (d.name === name) {","  //       return +d.spend;","  //     }","  //     else {","  //       return 0;","  //     }","  //   }","  // }","","  // var coin1 = time_dim.group().reduceSum(spend_by_name('Tom'));","","  // var coin2 = time_dim.group().reduceSum(spend_by_name('Bob'));","","  // var coin3 = time_dim.group().reduceSum(spend_by_name('Alice'));","","  // var compositeChart = dc.compositeChart('#composite-chart');","","  // compositeChart","  //   .width(990)","  //   .height(200)","  //   .dimension(date_dim)","  //   .x(d3.time.scale().domain([minDate, maxDate]))","  //   .yAxisLabel(\"Spend\")","  //   .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","  //   .renderHorizontalGridLines(true)","  //   .compose([","  //     dc.lineChart(compositeChart)","  //     .colors('green')","  //     .group(tomSpendByMonth, 'Tom'),","  //     dc.lineChart(compositeChart)","  //     .colors('red')","  //     .group(bobSpendByMonth, 'Bob'),","  //     dc.lineChart(compositeChart)","  //     .colors('blue')","  //     .group(aliceSpendByMonth, 'Alice')","  //   ])","  //   .brushOn(false)","  //   .render();","","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      let mediainfo = []","      media_stats = {reddit_subscribers, reddit_link,  facebook_likes, facebook_link, twitter_follwers, twitter_link}","      mediainfo.push(media_stats);","      console.log(reddit, facebook, twitter, projectinfo)","      console.log(media_stats)","      socialgraph(media_stats)","      ","      ","        function socialgraph(media_stats) {","","            ","            dc.renderAll();","        }","    ","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}","","var dataset = {","  medima_fields: [","      {key: 'dxid', value: 6}, ","      {key: 'hic', value: 2}, ","      {key: 'etc', value: 4},","      ],","};","    ","var width = 460,","    height = 300,","    radius = Math.min(width, height) / 2;","","var donut = d3.select(\"#donutgraph\")","    .attr(\"class\", \"medima-donut-chart\")","    .attr(\"style\", \"width:\" + width + \"px;\");","    ","var pie = d3.layout.pie()","    .value(function (d) {return d.value;})","    .sort(null);","","var arc = d3.svg.arc()","    .innerRadius(radius - 75)","    .outerRadius(radius - 50);","","var svg = donut.append(\"svg\")","    .attr(\"width\", width)","    .attr(\"height\", height)","    .append(\"g\")","    .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");","","var path = svg.selectAll(\"path\")","    .data(pie(dataset.medima_fields))","    .enter().append(\"path\")","    .attr(\"d\", arc)","    .data(dataset.medima_fields)","    .attr(\"class\", function(d) { return d.key; });","    ","var total = 0","    for (var i = 0; i < dataset.medima_fields.length; i++ ){","    total+=dataset.medima_fields[i].value","}","   ","var donutTotal = donut.append(\"div\")    ","    .attr(\"class\", \"medima-donut-total\")","    .html(total + \"<div class='medima-donut-total-subtext'>OVERLAPS</div>\");"],"id":46}],[{"start":{"row":0,"column":0},"end":{"row":449,"column":79},"action":"remove","lines":["/*Get Ready Function*/","$(function() {","  // Sidebar toggle behavior","  $('#sidebarCollapse').on('click', function() {","    $('#sidebar, #content').toggleClass('active');","  });","","  // Toplist toggle","  $('#toplistCollapse').on('click', function() {","    $('#toplist').toggle();","  });","  ","  // Hour Prices toggle","  $('#hrpricesCollapse').on('click', function() {","    $('#hrprices').toggle();","  });","","  // Social Media Data toggle","  $('#socialmediaCollapse').on('click', function() {","    $('#socialmedia').toggle();","  });","    ","  // Coin Prices Chart toggle","  $('#coinpricesCollapse').on('click', function() {","    $('#coinprices').toggle();","  });","  ","  // Currency Selector","  $('.currency').click(function() {","    // alert($(this).attr('id'))","    let tsym = $(this).attr('id');","    updateCurrency(tsym);","    $(\".popcoins > tr\").remove();","  });","","  $('select.choosecurrency').change(function() {","    let tsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the currency - \" + tsym);","    updateCurrency(tsym);","    $(\".popcoins > tr\").remove();","  });","","  // Coin selector","  $('select.choosecoin').change(function() {","    let fsym = $(this).children(\"option:selected\").val();","    // alert(\"You have selected the coin - \" + fsym);","    updateCoin(fsym);","    $('#coinselected').html(`Hourly Price of ${fsym}`);","  });","","  // IMG selector","  $(\"tbody\").on(\"click\", \"tr\", function() {","    let fsym = $(this).attr('value');","    let coinId = $(this).attr('id');","    alert(\"You have selected \" + fsym + coinId);","    updateCoin(fsym);","    updateId(coinId);","    $('#coinselected').html(`Hourly Price of ${fsym}`);","  });","}); //End of Get Ready Function","","","// Default Settings (Currency and Coin)","if (\"1\" === \"1\") {","  let tsym = \"GBP\";","  let fsym = \"BTC\";","  updateCurrency(tsym);","  updateCoin(fsym);","}","","/*TopList*/","function updateCurrency(tsym) {","  axios.get(\"https://min-api.cryptocompare.com/data/top/totalvolfull\", {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        limit: \"10\",","        tsym: tsym,","        page: 0,","      }","    })","    .then(function(response) {","      console.log(tsym);","      let readings = response.data.Data;","      let arrayinfocoin = [];","      for (x in readings) {","        console.log(readings[x]);","        let name = readings[x].CoinInfo.FullName;","        let abbrv = readings[x].CoinInfo.Name;","        let image = readings[x].CoinInfo.ImageUrl;","        let stringprice = readings[x].DISPLAY[tsym].PRICE;","        let pertchange = readings[x].DISPLAY[tsym].CHANGEPCT24HOUR;","        let marketcap = readings[x].DISPLAY[tsym].MKTCAP;","        let supply = readings[x].DISPLAY[tsym].SUPPLY;","        let marketinfo = readings[x].DISPLAY[tsym].LASTMARKET;","        let high24 = readings[x].DISPLAY[tsym].HIGH24HOUR;","        let low24 = readings[x].DISPLAY[tsym].LOW24HOUR;","        let coinid = readings[x].CoinInfo.Id;","","","        if (stringprice.includes('$')) {","          price = stringprice.replace('$', '').replace(',', '');","        }","        else if (stringprice.includes('£')) {","          price = stringprice.replace('£', '').replace(',', '');","        }","        else {","          price = stringprice.replace('SGD', '').replace(',', '');","        }","","        let infocoin = { name, abbrv, price, marketcap, image, stringprice, pertchange, supply, marketinfo, high24, low24, coinid };","","        arrayinfocoin.push(infocoin);","","      }","      // console.log(arrayinfocoin);","      //   console.log(readings);","      printdata(arrayinfocoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","","    });","} //End of Function","","function printdata(arrayinfocoin) {","  var ndx = crossfilter(arrayinfocoin);","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","  for (let c of arrayinfocoin) {","","    if (c.pertchange > 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"poschange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `);","    }","","    else if (c.pertchange < 0) {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"negchange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `);","    }","","    else {","      $(\".popcoins\").append(`","                            <tr value=\"${c.abbrv}\" id=\"${c.coinid}\">","                              <td> <img src=\"https://www.cryptocompare.com${c.image}\" alt=\"...\" width=\"30\"></img>","                                <h5>${c.name}</h5>","                              </td>","                              <td><strong>${c.stringprice}</strong></td>","                              <td><strong>${c.high24}</strong></td>","                              <td><strong>${c.low24}</strong></td>","                              <td><strong><span class=\"nochange\">${c.pertchange}</span></strong></td>","                              <td><strong>${c.marketcap}</strong></td>","                              <td><strong>${c.marketinfo}</strong></td>","                            </tr>","                      `);","    }","","  }","","","  dc.barChart('#dataset')","    .width(1000)","    .height(500)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","  dc.renderAll();","","","  var name_dim = ndx.dimension(dc.pluck('name'));","  var price = name_dim.group().reduceSum(dc.pluck('price'));","","","  dc.lineChart(\"#dataset1\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(name_dim)","    .group(price)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Price of Coins\")","    .yAxis().ticks(5);","","","  dc.renderAll();","} //End of Function","","// Bitcoin/Ethereum/Litecoin Data  ","/*global axios*/","function updateCoin(fsym) {","  axios.get('https://min-api.cryptocompare.com/data/histohour', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        fsym: fsym,","        tsym: \"SGD\",","        limit: 20,","      }","    })","    .then(function(response) {","      let readings1 = response.data.Data;","      let arrayinfoBitcoin = [];","","      for (x in readings1) {","        //   console.log(readings1[x])","        let time_raw = readings1[x].time;","        let time = convertTimestamp(time_raw);","        let close = readings1[x].close;","        let high = readings1[x].high;","        let low = readings1[x].low;","        let open = readings1[x].open;","        let volumefrom = readings1[x].volumefrom;","        let volumeto = readings1[x].volumeto;","        let infoBitcoin = { time, close, high, low, open, volumefrom, volumeto };","        arrayinfoBitcoin.push(infoBitcoin);","      }","      // console.log(arrayinfoBitcoin);","      printdata1(arrayinfoBitcoin);","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","} //End of Function","","// Unix Time Converter ","function convertTimestamp(timestamp) {","  var d = new Date(timestamp * 1000), // Convert the passed timestamp to milliseconds","    yyyy = d.getFullYear(),","    mm = ('0' + (d.getMonth() + 1)).slice(-2), // Months are zero based. Add leading 0.","    dd = ('0' + d.getDate()).slice(-2), // Add leading 0.","    hh = d.getHours(),","    h = hh,","    min = ('0' + d.getMinutes()).slice(-2), // Add leading 0.","    ampm = 'AM',","","    // ie: 2013-02-18, 8:35 AM\t","    // time = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm","    time = h + ':' + min","  return time;","}","","","// Get Ready Function","$(function() {","","","","  // Pagination","","  //   $('.pagination').pagination({","  //     dataSource: 'https://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json&jsoncallback=?',","  //     locator: 'items',","  //     totalNumberLocator: function(response) {","  //         // you can return totalNumber by analyzing response content","  //         return Math.floor(Math.random() * (1000 - 100)) + 100;","  //     },","  //     pageSize: 20,","  //     ajax: {","  //         beforeSend: function() {","  //             dataContainer.html('Loading data from flickr.com ...');","  //         }","  //     },","  //     callback: function(data, pagination) {","  //         // template method of yourself","  //         var html = template(data);","  //         dataContainer.html(html);","  //     }","  // })","","","})","","// second api","function printdata1(arrayinfoBitcoin) {","  var ndx = crossfilter(arrayinfoBitcoin);","  var time_dim = ndx.dimension(dc.pluck('time'));","  var open = time_dim.group().reduceSum(dc.pluck('open'));","","      ","  //single graph","  dc.lineChart(\"#hourlyprice\")","    .width(1000)","    .height(300)","    .margins({ top: 10, right: 50, bottom: 30, left: 50 })","    .dimension(time_dim)","    .group(open)","    .transitionDuration(500)","    .x(d3.scale.ordinal())","    .xUnits(dc.units.ordinal)","    .xAxisLabel(\"Hourly Prices\")","    .yAxis().ticks(5);","","  dc.renderAll();","}","//End of Function","","//Social Media Data","","function updateId(coinId) {","  axios.get('https://min-api.cryptocompare.com/data/social/coin/latest', {","      params: {","        api_key: \"2ccfbedbc83b1a45687c4e6eeaa6ab79299b4ade9398cee3878b6a42c1066f73\",","        coinId: coinId,","      }","    })","    .then(function(response) {","      let arraysocialData = [];","      let socialData = response.data.Data;","      let redditstats = socialData.Reddit;","      let twitterstats = socialData.Twitter;","      let codeRepositorystats = socialData.CodeRepository.List;","      let facebookstats = socialData.Facebook;","      ","      console.log(socialData)","      ","      let reddit_active_users = redditstats.active_users","      let reddit_coin_name = redditstats.name;","      let reddit_subscribers = redditstats.subscribers;","      let reddit_link = redditstats.link;","      let reddit_comments_day = redditstats.comments_per_day;","      let reddit_comments_hour = redditstats.comments_per_hour;","      ","      let reddit =  [{ reddit_active_users, reddit_coin_name, reddit_subscribers, reddit_link, reddit_comments_day, reddit_comments_hour }];","      ","      ","      let facebook_likes = facebookstats.likes; ","      let facebook_link = facebookstats.link;","      ","      let facebook = [{facebook_link, facebook_likes}]","      ","      let twitter_follwers = twitterstats.followers;","      let twitter_link = twitterstats.link;","      ","      let twitter = [{twitter_follwers, twitter_link}]","      ","      let projectinfo = []","      for (x in codeRepositorystats) {","        let project_forks = codeRepositorystats[x].forks;","        let project_last_update = codeRepositorystats[x].last_update;","        let project_last_push = codeRepositorystats[x].last_push;","        let project_subscribers = codeRepositorystats[x].subscribers;","        let project_link = codeRepositorystats[x].url;","        let project_stats = {project_forks, project_last_update, project_last_push, project_subscribers, project_link}","        projectinfo.push(project_stats)","      }","      ","      let mediainfo = []","      media_stats = {reddit_subscribers, reddit_link,  facebook_likes, facebook_link, twitter_follwers, twitter_link}","      mediainfo.push(media_stats);","      console.log(reddit, facebook, twitter, projectinfo)","      console.log(media_stats)","      socialgraph(media_stats)","      ","      ","        function socialgraph(media_stats) {","","            ","            dc.renderAll();","        }","    ","    })","    .catch(function(error) {","      console.log(error);","    })","    .then(function() {","      // always executed","    });","","}","","// var dataset = {","//   medima_fields: [","//       {key: 'dxid', value: 6}, ","//       {key: 'hic', value: 2}, ","//       {key: 'etc', value: 4},","//       ],","// };","    ","// var width = 460,","//     height = 300,","//     radius = Math.min(width, height) / 2;","","// var donut = d3.select(\"#donutgraph\")","//     .attr(\"class\", \"medima-donut-chart\")","//     .attr(\"style\", \"width:\" + width + \"px;\");","    ","// var pie = d3.layout.pie()","//     .value(function (d) {return d.value;})","//     .sort(null);","","// var arc = d3.svg.arc()","//     .innerRadius(radius - 75)","//     .outerRadius(radius - 50);","","// var svg = donut.append(\"svg\")","//     .attr(\"width\", width)","//     .attr(\"height\", height)","//     .append(\"g\")","//     .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");","","// var path = svg.selectAll(\"path\")","//     .data(pie(dataset.medima_fields))","//     .enter().append(\"path\")","//     .attr(\"d\", arc)","//     .data(dataset.medima_fields)","//     .attr(\"class\", function(d) { return d.key; });","    ","// var total = 0","//     for (var i = 0; i < dataset.medima_fields.length; i++ ){","//     total+=dataset.medima_fields[i].value","// }","   ","// var donutTotal = donut.append(\"div\")    ","//     .attr(\"class\", \"medima-donut-total\")","//     .html(total + \"<div class='medima-donut-total-subtext'>OVERLAPS</div>\");"],"id":47}]]},"ace":{"folds":[],"scrolltop":3557,"scrollleft":0,"selection":{"start":{"row":315,"column":22},"end":{"row":315,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":178,"state":["string.quasi.start","no_regex"],"mode":"ace/mode/javascript"}},"timestamp":1564540826397}